#:schema node_modules/wrangler/config-schema.json
name = "email-to-discord"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Enable observability for logging
[observability]
enabled = true

# ============================================================
# SECRETS CONFIGURATION
# ============================================================
# Set these secrets via Cloudflare Dashboard or wrangler CLI:
#
# REQUIRED: Domain to webhook mapping (JSON object)
# wrangler secret put DOMAIN_WEBHOOKS
# Example value:
# {"n9a.us":"https://discord.com/api/webhooks/xxx/yyy","ipcow.com":"https://discord.com/api/webhooks/aaa/bbb"}
#
# OPTIONAL: Fallback webhook for unmapped domains
# wrangler secret put DEFAULT_WEBHOOK_URL
# Example value:
# https://discord.com/api/webhooks/xxx/yyy
# ============================================================
